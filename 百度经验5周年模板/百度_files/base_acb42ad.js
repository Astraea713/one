define("common-jquery:widget/js/ui/base/base.js",function(n,t,e){function i(n){var t=o.isFunction(n)?n:function(){this.type="base"},e=function(n){u.create(this),this.guid=++o.guid,t.apply(this,arguments),"object"==typeof n&&this._init(n),this.init(n)};return e.extend=function(n){return o.extend(e.prototype,n),e},e.extend({_init:function(n){var t=this;o.each(n,function(n,e){o.isFunction(e)?t.on(n,e):t[n]=e})},init:function(){},render:function(){},dispose:function(){},getElements:function(){}})}var o=n("common-jquery:widget/lib/jquery/jquery.js"),u=n("common-jquery:widget/js/util/event/event.js");e.exports=i});
;define("common-jquery:widget/js/util/event/event.js",function(e,n,r){function t(e){var n=i(e);return i.extend(e,{on:function(r,t){return n.on(o(r),t),e},once:function(r,t){return n.one(o(r),t),e},fire:function(r){var t=Array.prototype.slice.call(arguments,1);return t.unshift(o(r)),n.trigger.apply(n,t),e},off:function(r,t){return n.unbind(o(r),t),e}}),e.un=e.off,e.trigger=e.fire,e}function o(e){return"on"+e.replace(/^on/i,"").toLowerCase()}var i=e("common-jquery:widget/lib/jquery/jquery.js");r.exports=t({}),r.exports.create=t,window.F&&(window.F.ec=r.exports)});
;define("common-jquery:widget/js/logic/login/login.js",function(o,n,e){var i=o("common-jquery:widget/lib/jquery/jquery.js"),t=o("common-jquery:widget/js/util/event/event.js"),s=o("common-jquery:widget/js/ui/dialog/dialog.js"),c=null,r=!1,u="http://passport.bdimg.com/passApi/js/uni_login_wrapper.js?cdnversion="+(new Date).getTime(),a="/common/isLogin",g={patch:"",isLogin:function(){window.location.reload(!0)},notLogin:function(){t.fire("login.log",{patch:g.patch,onLoginSuccess:g.isLogin})},submitErr:function(){}},l={registerLink:"https://passport.baidu.com/v2/?reg&tpl=exp&u="+encodeURIComponent(top.location.href),onLoginSuccess:g.isLogin,onLoginFailure:g.notLogin,onSubmitedErr:g.submitErr,cache:!0,tangram:!0,apiOpt:{product:"exp",u:window.top.location.href,staticPage:"http://jingyan.baidu.com/static/common/html/v3Jump.html"},authsite:["tsina","renren","tqq","fetion"],authsiteCfg:{tpl:"exp",display:"popup",u:window.top.location.href,jumpUrl:"http://jingyan.baidu.com/static/common/html/xd.html",onBindSuccess:function(){return l.onLoginSuccess(),!1},onBindFailure:function(){return l.onSubmitedErr(),!1}},onshow:function(){}};t.on("login.check",function(o,n){i.extend(g,n),i.post(a,{_t:(new Date).getTime()},function(o){return 0==o.errno?(o.userType>0?t.fire("login.setUsername",{onSetSuccess:g.isLogin,from:"check"}):t.fire("login._setUsernameSuccess"),!0):(g.notLogin(),!1)})}),t.on("login.log",function(o,n){n.onLoginSuccess||(n.onLoginSuccess=function(){window.location.reload(!0)}),g.isLogin=n.onLoginSuccess,l.onLoginSuccess=function(o){t.fire("dialog.close"),t.fire("login._success"),o.returnValue=!1},r?c&&c.show():(i.ajax({dataType:"script",crossDomain:!0,url:u,success:function(){c=passport.pop.init(l),c.show(),i.extend(e.exports,c)}}),r=!0)}),t.on("login._success",function(){t.fire("login.setUsername",{onSetSuccess:g.isLogin})}),t.on("login.setUsername",function(o,n){var e=function(){var o=s.iframe({content:"/z/exp-common/fillname.html?t="+(new Date).getTime(),title:"填写用户名",width:560,height:250,autoDispose:!0,close:function(){window.Geditorframe&&window.Geditorframe.onDialogClose(),o.close()}})};n.onSetSuccess||(n.onSetSuccess=function(){window.location.reload(!0)}),g.isLogin=n.onSetSuccess,n.from&&"check"==n.from?e():i.post(a,{_t:(new Date).getTime()},function(o){return 0==o.errno?(o.userType>0?e():t.fire("login._setUsernameSuccess"),!0):void 0},"json")}),t.on("login._setUsernameSuccess",function(){void 0!=g.userFormerLoginStatus?g.isLogin(g.userFormerLoginStatus):g.isLogin()}),t.on("login._bindWeibosuccess",function(o,n){var e="微博";n&&n.fromWeibo&&(e=n.fromWeibo),alert("您已经成功绑定"+e+"。若您的经验文章被分享到新浪微博，将会@您。感谢您的热心参与！"),location.reload()}),t.on("dialog.close",function(){c&&c.hide&&c.hide()})});
;define("common-jquery:widget/userbar/userbar.js",function(e,t,n){var o=e("common-jquery:widget/lib/jquery/jquery.js"),r=e("common-jquery:widget/js/util/event/event.js");e("common-jquery:widget/js/logic/login/login.js");var i={init:function(){var e=this;if(e.updateMsg(),1==F.context("user").isLogin){var t=o("#userbar-logout");t&&(location.href.indexOf("/user/nuc")>-1||location.href.indexOf("/user/npublic")>-1?t.attr("href","http://passport.baidu.com/?logout&aid=7&u=http://jingyan.baidu.com"):t.attr("href","http://passport.baidu.com/?logout&aid=7&u="+encodeURIComponent(location.href)))}else{o("#userbar-login").click(function(e){e.preventDefault(),r.fire("login.check")});var n=o("#top-reg-link");if(n){var i=n.attr("href");n.attr("href",i+encodeURIComponent(location.href))}}},updateMsg:function(){var e="http://msg.baidu.com/ms?ct=18&cm=3&tn=bmSelfUsrStat&mpn=13227114&un="+F.context("user").name+"&t="+(new Date).getTime();o.ajax({type:"get",async:!1,url:e,dataType:"jsonp",success:function(){t()},error:function(){t()}});var t=function(){redmsg&&msgnum>0&&o("#mnum").html(msgnum)}}};n.exports=i});